---
title: "Chapter 2 HW"
author: "Nehemya McCarter-Ribakoff"
date: "14 February 2017"
output: 
  html_document: 
    fig_height: 4
    highlight: pygments
    theme: spacelab
---

```{r setup, include=FALSE}
# DO NOT ALTER CODE IN THIS CHUNK
knitr::opts_chunk$set(echo = TRUE)
library(plyr)
library(ggplot2)
```

* * *

## Conceptual Questions


#### Exercise 2: Identify each as classification or regression, prediction or inference. Provide n and p
    
    (a) We collect a set of data on the top 500 firms in the US. For each
    firm we record profit, number of employees, industry and the
    CEO salary. We are interested in understanding which factors
    affect CEO salary.
    
    Since we are looking for factors, or categories, this is classification.
    We are not building a model for prediction, only studying patterns, so
    this is inference.
    n = 500, p = {profit, number of employees, industry, and CEO salary}
    
    (b) We are considering launching a new product and wish to know
    whether it will be a success or a failure. We collect data on 20
    similar products that were previously launched. For each product
    we have recorded whether it was a success or failure, price
    charged for the product, marketing budget, competition price,
    and ten other variables.
    
    Since products are labeled either success or failure, this is classification.
    We are determining if our product will be a success, so this is prediction.
    n = 20, p = {success or failure, price of product, marketing budget,
                 competition budget, 10 other...}
                 
    (c) We are interested in predicting the % change in the US dollar in
    relation to the weekly changes in the world stock markets. Hence
    we collect weekly data for all of 2012. For each week we record
    the % change in the dollar, the % change in the US market,
    the % change in the British market, and the % change in the
    German market.
    
    We are looking for a percent change. This is regression.
    We are making a prediction model.
    n = 52, p = {Δdollar, ΔUS, ΔBritish, ΔGerman}


#### Exercise 4: You will now think of some real-life applications for statistical learning.
         
    (a) Describe three real-life applications in which classification might
    be useful. Describe the response, as well as the predictors. Is the
    goal of each application inference or prediction? Explain your
    answer.
    
    1. Mobile phone application to determine the species of a plant in a given
       photo based off a training dataset.
       
       predictors = {plant.shape, plant.color, plant.structure, ...}
       Prediction model
       The model looks for a photo or species in its database that matches the
       given photo as closely as possible. This is an image classifier.
       
    2. Virtual doctor providing diagnoses based on symptoms.
    
       predictors = {body.temp, inflammation(if any), reported.symptoms, ...}
       Goal: prediction
       The output of our model is an element from the set of all diseases.
       
    3. Determine if decreasing size of fish population is correlated with
       region, species, diet, etc.
       
       predictors = {region, species, diet, etc.}
       Inference model.
       Our outcomes are discrete -- either there is a correlation or there isn't.
       Additionally, we are only checking if there is a pattern. No output is
       generated, so this is inference.
     
    (b) Describe three real-life applications in which regression might
    be useful. Describe the response, as well as the predictors. Is the
    goal of each application inference or prediction? Explain your
    answer.
    
    1. Find the probability a tornado will occur based on climate data.
       predictors = {atmospheric.pressure, temperature, wind.data, ...}
       Goal: prediction
       Because a probability is a continuous value, this is a regression problem
    
    2. Estimate the property value of a given plot of land
       predictors = {location, size, structures, ...}
       Goal: prediction
       A property value is continuous, but because the price at which a plot will
       sell is, to a degree, arbitrary, this problem is prediction, not
       inference.
    
    3. Determine how much each factor impacts on property sales.
       predictors = {location, size, structures, ...}
       Goal: inference
       Our scenario is similar to the last example, but we are only looking
       for a better understanding of the relationship between our predictors
       and outcome. Since our end goal is quantitative ("how much"), this is
       also an inference problem.

* * *

## Applied Questions

#### Exercise 8: 
  (a) import data (assumes College.csv is in working directory)
```{r}
college = read.csv(file = "College.csv", header = TRUE, sep = ",")
```
  
  (b) print csv table
```{r}  
fix(college)
  # remove uni names from list
rownames(college) = college[,1]
fix(college)
  # isolate college names (sets as private)
college = college[,-1]
  #let's look again
fix(college)
```
  
  (c) See parts below
   (i) use summary() to produce numerical summary of dataset
```{r}
summary(college)
```
   
   (ii) use pairs() to produce a scatterplot matrix
```{r}
pairs(college)        # references whole set
pairs(college[,1:10]) # references first 10 columns
```
   
   (iii) Use plot() to produce side-by-side boxplots of OutState vs Private
```{r}
plot(college$Private, college$Outstate, main="Private vs. Out of State Universities")
```
   
   (iv) Create qualitative variable Elite by binning Top10perc
```{r}
Elite = rep("No",nrow(college))
Elite[college$Top10perc>50]="Yes"
Elite=as.factor(Elite)
college=data.frame(college,Elite)
# summary() to see how many elite universities there are
summary(Elite)
# plot() for side-by-side boxplots of OutState vs Elite
plot(college$Elite, college$Outstate, main="Elite vs. Out of State Universities")
```
  
  (v) Use hist() to produce some histograms
```{r}
# output format
par(mfrow=c(1,1))
# some histograms
hist(college$Outstate)
hist(college$Apps)
hist(college$Accept)
hist(college$Enroll)
hist(college$PhD)
```

#### Exercise 10:
```{r}
# a) load data
library(MASS)
#Boston
#Command is commented out to save paper
# info on set
?Boston
```

How many rows? How many columns? What do they represent? 

506 rows, 14 columns. Columns represent crime rate, proportional land zoned,
proportional non-retail business acres per town, Charles river tract,
ntriogen oxides concentration, avg rooms per dwelling, proportion of
owner-occupied units built prior to 1940, weighted mean of distances to
five Boston employment centres, index of accessibility to radial highways,
full-value property-tax rate, pupil-teacher ration by town, proportaion of
blacks by town, percent lower status of the population, and median value of
owner-occupied homes. Rows represent distinct suburbs.

 (b) Make some pairwise scatterplots of the predictors (columns) in this data
     set. Describe your findings.
     
     Let's take a look at how crime, nitrogen oxides, and home age relate
```{r}
attach(Boston) # so we may access column names as variables
pairs(~ crim + nox + age)
```

There appears to be a weak relationship between nox and areas with
a high concentration of old homes..
Crime appears to experience a spike in areas with a high concentration
of old homes, despite being fairly low and steady prior to the spike.
```{r}
pairs(~ ptratio + tax + lstat)
```

I see no distinct relationship between the pupil-teacher ratio and full-value
property-tax rates. Pupil-teacher ratios seem to be varied for areas with
areas with fewer lower-status populations. The ratios present for poorer
regions are higher, but their are also far few data points, which may
indicate fewer teachers and pupils altogether.
Areas with the smallest lower-status populations appear to have a bubble of
low tax rates, a gap in the middle, and a few high tax rates. Residents with
hight tax rates seem to live in neighborhoods across the spectrum.

 (c) Are any of the predictors associated with per capita crime rate? If so,
     describe the realtionship. 

The followig predictors exhibit some correlation with per capita crim.
```{r}
pairs(~ crim + medv)
```

Higher crime rates appear to be associate with lower median value homes.
```{r}
pairs(~ dis + crim)
```

Most data points occur at distances closer to employment centers. Further
distances have lower per capita crime, but the data also tapers off. This could
be a matter of sampling.
```{r}
pairs(~ nox + crim)
```

Higher crime rates appear at areas with a rate between 0.6 and 0.8 nitrogen
oxide parts per 10 million

 (d) Do any of the suburbs of Boston appear to have particularly high crime      rates? Tax rates? Pupil-teacher ratios? Comment on the range of each predictor
 
 Let's take a closer look at each
```{r}
summary(crim)
```

Our range is 88.980 - 0.00632 = 88.97368. This is quite a large range. On top of that, our median and mean are quite different from one another, which suggests there are a lot of outliers. Here are the highest per capita crime rates
```{r}
tail(sort(crim))
```

Let's take a look at property tax rates.
```{r}
summary(tax)
```

Our range is 711 - 187 = 524. Important to keep in mind our numbers here are per \$10,000, so that's a difference of 524 / 10,000 = 0.0524, or about a 5% difference from the highest to the lowest tax rate. This is a smaller range than I had expected, given the United State's progressive tax system. Here are the set's highest.
```{r}
tail(sort(tax))
```

Lastly, we have pupil-teacher ratios.
```{r}
summary(ptratio)
```

The range is 22 - 12.6 = 9.4. Since we are talking about a number of students, we may say the highest and lowest sampled classrooms differ by about 10 students. Here, our mean and median are somewhat close, which tells us the data is fairly normal. The highest ratios are as follows:
```{r}
tail(sort(ptratio))
```

(e) How many of the suburbs in this data set bound the Charles river?
```{r}
sum(chas)
```

35 suburbs bound the Charles River

(f) What is the median pupil-teacher ratio among the towns in this data set?
```{r}
median(ptratio)
```

Median = 19.05 pupils per teacher

(g) Which suburb of Boston has lowest median value of owner-occupied homes?
What are the values of the other predictors for that suburb, and how do those
values compare to the overall ranges for those predictors? Comment on your
findings.
```{r}
lowest.medv = which.min(medv)
Boston[lowest.medv,]
```

This suburb has a crime rate, industry zoning, and nox concentration above the 3rd quadrant. None of its land is zoned for lots over 25,000 sq.ft. It is important to note here that the median is also 0 for this predictor. Its population percentage in the lower status (30.59%) is near the highest recorded. All of its owner-occupied homes were build prior to 1940. Its owner-occupied dwellings average about 6 rooms, which is the same as the first quadrant, and sounds about right for a suburban area. These numbers suggest this is a poor, crime-ridden suburb.

The suburb has a weighted mean of 1.4896 (no units included) to an employment center. Residents are not too far from work. In fact, they are closer than most suburbs in Boston, sitting well below the mean and median, as well as the first quadrant. However, They are also the farthest suburb to any radial highways. It may be difficult for residents to get out to attain work in a different area.

This suburb also has a pupil-teacher ratio at the third quadrant of our data, about 1 pupil away from being the highest. There are relatively few teachers for the students in this area. This area also has the highest population of black individuals of all suburbs in Boston.

(h) How many of the suburbs average more than seven rooms per dwelling?
More than eight rooms per dwelling? Comment on the suburbs that average more
than eight rooms per dwelling
```{r}
sum(rm > 7)
```

64 suburbs average more than seven rooms per dwelling
```{r}
sum(rm > 8)
```

13 suburbs average more than eight rooms per dwelling.

 




* * *

## Teamwork report

<!--
For each team member, write their name, whether they attended the lab session, 
whether they were the author for this week, and their contribution to the lab 
report (as a percentage). The percentages should add up to 100.
-->

| Team member             | Conceptual | Applied  | Contribution % |
|:------------------------|:----------:|:--------:|---------------:|
| Nehemya                 |    Yes     |   Yes    | 100%           |
| Total                   |            |          | 100%           |